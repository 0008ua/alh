{"version":3,"sources":["./src/app/modules/user/auth.guard.ts","./src/app/tabs/tabs.page.html","./src/app/tabs/tabs.page.ts","./src/app/tabs/tabs.page.scss","./src/app/tabs/tabs.module.ts","./src/app/tabs/tabs-routing.module.ts"],"names":[],"mappings":"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","file":"tabs-tabs-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CanLoad, Route, UrlSegment, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router, CanActivate } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { Store } from '@ngrx/store';\nimport { State } from '../../store/reducers';\n\nimport { UserService } from './user.service';\nimport { map, take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanLoad, CanActivate {\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private store: Store<State>,\n\n  ) { }\n\n  // Prevents fetching lazy loading modules\n  canLoad(route: Route, segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\n    return this.store.select('user').pipe(\n        map((storeState) => {\n          if (!storeState.user) {\n            this.router.navigateByUrl('/user/login');\n            return false;\n          }\n          return true;\n        }),\n        take(1),\n    );\n  }\n\n  // If lazy loadnig module already fetched and user logged out\n  // this guard prevents to activate module\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.store.select('user').pipe(\n        map((storeState) => {\n          if (!storeState.user) {\n            this.router.navigateByUrl('/user/login');\n            return false;\n          }\n          return true;\n        }),\n        // take(1),\n    );\n  }\n}\n","export default \"<ion-tabs>\\n  <ion-tab-bar *ngIf=\\\"user\\\" slot=\\\"bottom\\\">\\n    <ion-tab-button tab=\\\"shedule\\\">\\n      <ion-label>Shedule</ion-label>\\n      <ion-icon name=\\\"calendar-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"analytics\\\">\\n      <ion-label>Analytics</ion-label>\\n      <ion-icon name=\\\"analytics-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n    <ion-tab-button tab=\\\"dashboard\\\">\\n      <ion-label>Dashboard</ion-label>\\n      <ion-icon name=\\\"file-tray-full-outline\\\"></ion-icon>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n</ion-tabs>\";","import { Component, OnInit } from '@angular/core';\n\nimport { Store } from '@ngrx/store';\nimport { User } from '../interface';\nimport { State } from '../store/reducers';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: './tabs.page.html',\n  styleUrls: ['./tabs.page.scss'],\n})\nexport class TabsPage implements OnInit {\n  user: User | null = null;\n\n  constructor(\n    private store: Store<State>,\n  ) { }\n\n  ngOnInit() {\n    this.store.select('user')\n        .subscribe((storeState) => {\n          this.user = storeState.user;\n        });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJzLnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\n\nimport { TabsPage } from './tabs.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TabsPageRoutingModule,\n  ],\n  declarations: [TabsPage],\n})\nexport class TabsPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from '../modules/user/auth.guard';\n\nimport { TabsPage } from './tabs.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TabsPage,\n    children: [\n      {\n        path: '',\n        redirectTo: 'shedule',\n        pathMatch: 'full',\n        canLoad: [AuthGuard],\n        canActivate: [AuthGuard],\n      },\n      {\n        path: 'shedule',\n        loadChildren: () => import('../modules/shedule/shedule.module').then((m) => m.ShedulePageModule),\n        canLoad: [AuthGuard],\n        canActivate: [AuthGuard],\n      },\n      {\n        path: 'user',\n        loadChildren: () => import('../modules/user/user.module').then((m) => m.UserPageModule),\n      },\n      {\n        path: 'dashboard',\n        loadChildren: () => import('../modules/dashboard/dashboard.module').then((m) => m.DashboardPageModule),\n        canLoad: [AuthGuard],\n        canActivate: [AuthGuard],\n      },\n      {\n        path: 'analytics',\n        loadChildren: () => import('../modules/analytics/analytics.module').then((m) => m.AnalyticsPageModule),\n        canLoad: [AuthGuard],\n        canActivate: [AuthGuard],\n\n      },\n      {\n        path: '**',\n        redirectTo: '',\n        pathMatch: 'full',\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TabsPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}