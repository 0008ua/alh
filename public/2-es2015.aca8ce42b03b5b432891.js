(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{LOB2:function(t,e,o){"use strict";o.r(e),o.d(e,"BookingFormPageModule",function(){return W});var n=o("ofXK"),a=o("3Pt+"),i=o("TEn/"),r=o("tyNb"),b=o("mrSG"),c=o("z6cu"),l=o("eIep"),s=o("PQ5l"),d=o("IjAw"),m=o("gXqy"),u=o("mgGq"),g=o("fXoL"),h=o("mrZj"),p=o("l7P3"),y=o("sYmb"),M=o("VURf"),f=o("1UXS");const N=["bookingFormDirective"];function k(t,e){if(1&t&&(g.Lb(0),g.Nb(1,"ion-item",4),g.Nb(2,"ion-label"),g.Nb(3,"p"),g.oc(4),g.Yb(5,"translate"),g.Mb(),g.Mb(),g.Nb(6,"ion-text",29),g.oc(7),g.Mb(),g.Mb(),g.Nb(8,"ion-item",4),g.Nb(9,"ion-label"),g.Nb(10,"p"),g.oc(11),g.Yb(12,"translate"),g.Mb(),g.Mb(),g.Nb(13,"ion-text",29),g.oc(14),g.Mb(),g.Mb(),g.Nb(15,"ion-item",4),g.Nb(16,"ion-label"),g.Nb(17,"p"),g.oc(18),g.Yb(19,"translate"),g.Mb(),g.Mb(),g.Nb(20,"ion-text",30),g.oc(21),g.Yb(22,"translate"),g.Mb(),g.Mb(),g.Nb(23,"ion-item",4),g.Nb(24,"ion-label"),g.Nb(25,"p"),g.oc(26),g.Yb(27,"translate"),g.Mb(),g.Mb(),g.Nb(28,"ion-text",29),g.oc(29),g.Mb(),g.Mb(),g.Nb(30,"ion-item",4),g.Nb(31,"ion-label"),g.Nb(32,"p"),g.oc(33),g.Yb(34,"translate"),g.Mb(),g.Mb(),g.Nb(35,"ion-text",29),g.oc(36),g.Mb(),g.Mb(),g.Nb(37,"ion-item",4),g.Nb(38,"ion-label"),g.Nb(39,"p"),g.oc(40),g.Yb(41,"translate"),g.Mb(),g.Mb(),g.Nb(42,"ion-text",29),g.oc(43),g.Mb(),g.Mb(),g.Kb()),2&t){const t=g.Xb();g.yb(4),g.pc(g.Zb(5,13,"modules.shedule.bookingForm.pricePerNight")),g.yb(3),g.pc(null==t.calculatedData?null:t.calculatedData.pricePerNight),g.yb(4),g.pc(g.Zb(12,15,"modules.shedule.bookingForm.reservedNights")),g.yb(3),g.pc(null==t.calculatedData?null:t.calculatedData.days),g.yb(4),g.pc(g.Zb(19,17,"modules.shedule.bookingForm.bookingStep")),g.yb(2),g.dc("ngClass","status-color_"+(null==t.calculatedData?null:t.calculatedData.bookingStep)),g.yb(1),g.qc(" ",g.Zb(22,19,"common.bookingSteps."+(null==t.calculatedData?null:t.calculatedData.bookingStep)),""),g.yb(5),g.pc(g.Zb(27,21,"modules.shedule.bookingForm.bookingPrice")),g.yb(3),g.pc(null==t.calculatedData?null:t.calculatedData.bookingPrice),g.yb(4),g.pc(g.Zb(34,23,"modules.shedule.bookingForm.discount")),g.yb(3),g.pc(null==t.bookingForm?null:t.bookingForm.get("discount").value),g.yb(4),g.pc(g.Zb(41,25,"modules.shedule.bookingForm.totalPaid")),g.yb(3),g.pc(null==t.calculatedData?null:t.calculatedData.totalPaid)}}function F(t,e){if(1&t&&g.Jb(0,"ion-datetime",31),2&t){const t=g.Xb();g.ec("monthNames",t.monthNames),g.dc("value",t.bookingForm.get("dates").get("from").value)}}function Y(t,e){if(1&t&&(g.Jb(0,"ion-datetime",32),g.Yb(1,"date")),2&t){const t=g.Xb();g.ec("monthNames",t.monthNames),g.dc("value",t.availableTo?g.ac(1,2,t.availableTo,"dd MMMM yyyy"):0)}}function v(t,e){1&t&&g.Jb(0,"ion-spinner",33)}function D(t,e){if(1&t&&g.Jb(0,"ion-datetime",34),2&t){const t=g.Xb();g.ec("monthNames",t.monthNames),g.dc("min",t.fromPlusOneDay)("max",t.availableTo)}}function P(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function x(t,e){if(1&t&&(g.Lb(0),g.nc(1,P,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,t.bookingForm.get("dates").get("to").errors))}}function C(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function S(t,e){if(1&t&&(g.Lb(0),g.nc(1,C,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,t.bookingForm.get("guestName").errors))}}function I(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function O(t,e){if(1&t&&(g.Lb(0),g.nc(1,I,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,t.bookingForm.get("guestPhone").errors))}}function Z(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function A(t,e){if(1&t&&(g.Lb(0),g.nc(1,Z,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,t.bookingForm.get("guestEmail").errors))}}function q(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function w(t,e){if(1&t&&(g.Lb(0),g.nc(1,q,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,t.bookingForm.get("discount").errors))}}function X(t,e){if(1&t){const t=g.Ob();g.Nb(0,"ion-button",37),g.Vb("click",function(){g.kc(t);const e=g.Xb();return e.addPaymentsArrayControlToBegin(),e.editPayments(0)}),g.oc(1),g.Yb(2,"translate"),g.Mb()}2&t&&(g.yb(1),g.qc(" ",g.Zb(2,1,"elements.button.add"),""))}function T(t,e){if(1&t){const t=g.Ob();g.Nb(0,"ion-button",38),g.Vb("click",function(){return g.kc(t),g.Xb().editPayments(null)}),g.oc(1,"Ok"),g.Mb()}if(2&t){const t=g.Xb();g.dc("disabled","INVALID"===t.bookingForm.get("payments").status)}}function L(t,e){if(1&t){const t=g.Ob();g.Nb(0,"ion-item-sliding"),g.Nb(1,"ion-item"),g.Nb(2,"ion-label"),g.Nb(3,"h2"),g.oc(4),g.Yb(5,"translate"),g.Nb(6,"ion-text",41),g.oc(7),g.Mb(),g.Mb(),g.Nb(8,"p"),g.oc(9),g.Yb(10,"translate"),g.Nb(11,"ion-text",41),g.oc(12),g.Yb(13,"date"),g.Mb(),g.Mb(),g.Nb(14,"p"),g.oc(15),g.Yb(16,"translate"),g.Nb(17,"ion-text",41),g.oc(18),g.Mb(),g.Mb(),g.Mb(),g.Nb(19,"ion-note",42),g.oc(20),g.Yb(21,"translate"),g.Mb(),g.Mb(),g.Nb(22,"ion-item-options",43),g.Nb(23,"ion-item-option",37),g.Vb("click",function(){g.kc(t);const e=g.Xb().index;return g.Xb().editPayments(e)}),g.Jb(24,"ion-icon",44),g.Mb(),g.Mb(),g.Nb(25,"ion-item-options",45),g.Nb(26,"ion-item-option",46),g.Vb("click",function(){g.kc(t);const e=g.Xb().index;return g.Xb().removeArrayControl("payments",e)}),g.Jb(27,"ion-icon",47),g.Mb(),g.Mb(),g.Mb()}if(2&t){const t=g.Xb().index,e=g.Xb();g.yb(4),g.qc("",g.Zb(5,7,"dif.amount"),": "),g.yb(3),g.qc(" ",e.getPaymentsArrayControlAt(t).get("amount").value," "),g.yb(2),g.qc("",g.Zb(10,9,"dif.date")," "),g.yb(3),g.qc(" ",g.ac(13,11,e.getPaymentsArrayControlAt(t).get("date").value,"dd MMM"),""),g.yb(3),g.qc("",g.Zb(16,14,"common.paymentMethods.title")," "),g.yb(3),g.qc(" ",e.getPaymentsArrayControlAt(t).get("paymentMethod").value,""),g.yb(2),g.qc(" ",g.Zb(21,16,"elements.button.slideForOptions")," ")}}function j(t,e){if(1&t&&g.Jb(0,"ion-datetime",52),2&t){const t=g.Xb(3);g.ec("monthNames",t.monthNames)}}function E(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function J(t,e){if(1&t&&(g.Lb(0),g.nc(1,E,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb(2).index,e=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,e.getPaymentsArrayControlAt(t).get("amount").errors))}}function V(t,e){if(1&t&&(g.Nb(0,"ion-select-option",53),g.Nb(1,"span"),g.oc(2),g.Yb(3,"translate"),g.Mb(),g.Mb()),2&t){const t=e.$implicit;g.dc("value",t),g.yb(2),g.pc(g.Zb(3,2,"common.paymentMethods."+t))}}function _(t,e){if(1&t&&(g.Nb(0,"ion-text",36),g.oc(1),g.Yb(2,"translate"),g.Mb()),2&t){const t=e.$implicit;g.yb(1),g.qc(" ",g.Zb(2,1,"errors."+t)," ")}}function G(t,e){if(1&t&&(g.Lb(0),g.nc(1,_,3,3,"ion-text",35),g.Yb(2,"errorExtractor"),g.Kb()),2&t){const t=g.Xb(2).index,e=g.Xb();g.yb(1),g.dc("ngForOf",g.Zb(2,1,e.getPaymentsArrayControlAt(t).get("paymentMethod").errors))}}function $(t,e){if(1&t&&(g.Nb(0,"ion-list"),g.Nb(1,"ion-item"),g.Nb(2,"ion-label",11),g.oc(3),g.Yb(4,"translate"),g.Mb(),g.nc(5,j,1,1,"ion-datetime",48),g.Mb(),g.Nb(6,"ion-item"),g.Nb(7,"ion-label",18),g.oc(8),g.Yb(9,"translate"),g.Mb(),g.Jb(10,"ion-input",49),g.Mb(),g.nc(11,J,3,3,"ng-container",8),g.Nb(12,"ion-item"),g.Nb(13,"ion-label",11),g.oc(14),g.Yb(15,"translate"),g.Mb(),g.Nb(16,"ion-select",50),g.nc(17,V,4,4,"ion-select-option",51),g.Mb(),g.Mb(),g.nc(18,G,3,3,"ng-container",8),g.Mb()),2&t){const t=g.Xb().index,e=g.Xb();g.yb(3),g.qc("",g.Zb(4,7,"elements.datePicker.chooseDate")," "),g.yb(2),g.dc("ngIf",e.updated),g.yb(3),g.pc(g.Zb(9,9,"dif.amount")),g.yb(3),g.dc("ngIf",e.getPaymentsArrayControlAt(t).get("amount").dirty&&e.getPaymentsArrayControlAt(t).get("amount").errors),g.yb(3),g.qc("",g.Zb(15,11,"common.paymentMethods.title")," "),g.yb(3),g.dc("ngForOf",e.paymentMethods),g.yb(1),g.dc("ngIf",e.getPaymentsArrayControlAt(t).get("paymentMethod").dirty&&e.getPaymentsArrayControlAt(t).get("paymentMethod").errors)}}function B(t,e){if(1&t&&(g.Lb(0,39),g.Lb(1,40),g.nc(2,L,28,18,"ion-item-sliding",8),g.nc(3,$,19,13,"ion-list",8),g.Kb(),g.Kb()),2&t){const t=e.index,o=g.Xb();g.yb(1),g.dc("formGroupName",t),g.yb(1),g.dc("ngIf",null===o.editPayment||o.editPayment!==t),g.yb(1),g.dc("ngIf",o.editPayment===t)}}const K=function(t){return{component:t,item:"btnCancelReservation"}},z=[{path:"",component:(()=>{class t{constructor(t,e,o,n,a,i,r){this.route=t,this.sheduleService=e,this.navController=o,this.router=n,this.alertController=a,this.store=i,this.translate=r,this.calculatedData={},this.isCancelled=!1,this.updated=!0,this.bookingSteps=s.b,this.paymentMethods=s.c,this.editPayment=null,this.availableTo=null}ngOnInit(){this.bookingForm=new a.e({_id:new a.c("",{updateOn:"change"}),guestName:new a.c("Guest",{updateOn:"change",validators:[a.o.pattern("^[a-zA-Z0-9\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0454\u0404_@#$%\u2116'\"\\-]+$"),a.o.minLength(2),a.o.maxLength(40),a.o.required]}),guestPhone:new a.c("380500000000",{updateOn:"change",validators:[a.o.required,a.o.pattern("^((\\+[0-9]{3})|[0-9]{3}|0)[0-9]{9}$"),a.o.minLength(9),a.o.maxLength(13)]}),guestEmail:new a.c("",{updateOn:"change",validators:[a.o.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]}),discount:new a.c(0,{updateOn:"change",validators:[a.o.required,a.o.pattern("[0-9]*"),a.o.max(this.calculatedData.bookingPrice?this.calculatedData.bookingPrice:null)]}),dates:new a.e({from:new a.c(0,{updateOn:"change",validators:[a.o.required]}),to:new a.c(0,{updateOn:"change",validators:[a.o.required]})}),payments:new a.a([])}),this.route.paramMap.pipe(Object(l.a)(t=>t.get("bookingId")?(this.mode="edit",this.sheduleService.getBookingById(t.get("bookingId")).pipe(Object(l.a)(t=>(this.isCancelled="cancelled"===t.bookingStep,this.booking=this.sheduleService.convertBookingDatesIsoToShort(t),this.booking.payments.forEach(t=>this.addPaymentsArrayControl()),this.bookingForm.patchValue(this.booking),this.sheduleService.getRoomById(t.room_id))))):t.get("roomId")?(this.mode="new",this.date=t.get("date"),this.sheduleService.getRoomById(t.get("roomId"))):Object(c.a)("error parameter")),Object(l.a)(t=>(this.room=t,"edit"===this.mode?this.sheduleService.getAvailableDateTo(this.booking.room_id,this.booking.dates.to):"new"===this.mode?(this.fromPlusOneDay=this.sheduleService.convertDateToShort(d.a(this.sheduleService.convertShortToDate(this.date),{days:1})),this.bookingForm.get("dates").get("from").setValue(this.date),this.bookingForm.get("dates").get("to").setValue(this.fromPlusOneDay),this.sheduleService.getAvailableDateTo(this.room._id,this.date)):Object(c.a)("error get room"))),Object(l.a)(t=>(this.availableTo=t?this.sheduleService.convertISOToShort(t):this.sheduleService.convertDateToShort(d.a(new Date,{days:30})),this.calcData(),this.bookingForm.valueChanges))).subscribe(t=>this.calcData(),t=>console.log("error",t)),this.store.select(u.b).subscribe(t=>{this.user=t}),this.translate.stream("elements.datePicker.monthNames").subscribe(t=>{this.updated=!1,this.monthNames=t,setTimeout(()=>this.updated=!0,1)})}ionViewWillEnter(){this.updated=!1,setTimeout(()=>this.updated=!0,1)}calcData(){var t;this.calculatedData.days=m.a(this.sheduleService.convertShortToDate(this.bookingForm.get("dates").get("to").value),this.sheduleService.convertShortToDate(this.bookingForm.get("dates").get("from").value)),this.calculatedData.bookingPrice=(null===(t=this.booking)||void 0===t?void 0:t.price)?this.booking.price:this.room.price*this.calculatedData.days,this.calculatedData.pricePerNight=this.calculatedData.bookingPrice/this.calculatedData.days;let e=0;this.bookingForm.get("payments").controls.forEach(t=>{e+=t.get("amount").value}),this.calculatedData.totalPaid=e,this.calculatedData.balance=this.calculatedData.totalPaid-this.calculatedData.bookingPrice+ +this.bookingForm.get("discount").value,this.calculatedData.bookingStep=this.isCancelled?"cancelled":this.calculatedData.balance>=0?"paid":this.calculatedData.totalPaid>0?"reserved":"preorder"}presentAlert(){return Object(b.a)(this,void 0,void 0,function*(){const t=yield this.alertController.create({header:"Cancel reservation",subHeader:"Reservation will be cancelled and dessapears from shedule",message:"Are you shure?",buttons:[{text:"Cancel",role:"cancel",handler:t=>{}},{text:"Ok",handler:()=>{this.isCancelled=!0,this.calcData(),this.onFormSubmit()}}]});yield t.present()})}get paymentsFormGroup(){return{_id:new a.c("",{updateOn:"change"}),date:new a.c(this.sheduleService.convertDateToShort(new Date),{updateOn:"change",validators:[a.o.required]}),amount:new a.c(200,{updateOn:"change",validators:[a.o.required,a.o.pattern("[0-9]*")]}),paymentMethod:new a.c("cash",{updateOn:"change",validators:[a.o.required,a.o.pattern("^card|cash$")]})}}getPaymentsArrayControlAt(t){return this.bookingForm.get("payments").at(t)}addPaymentsArrayControl(){this.bookingForm.get("payments").push(new a.e(Object.assign({},this.paymentsFormGroup)))}addPaymentsArrayControlToBegin(){const t=this.bookingForm.get("payments");t.push(new a.e(this.paymentsFormGroup));const e=Object.assign({},t.at(t.controls.length-1).value);for(let o=t.controls.length-1;o>0;o--)t.at(o).setValue(Object.assign({},t.at(o-1).value));t.at(0).setValue(e)}editPayments(t){this.editPayment=t}initControl(t=null,e){return new a.c(t,e)}addControl(t,e){this.bookingForm.addControl(t,this.initControl(e.formState,e.options))}addArrayControl(t,e){this.bookingForm.get(t).push(this.initControl(e.formState,e.options))}removeArrayControl(t,e){this.bookingForm.get(t).removeAt(e)}onFormCancel(){this.resetForm(),this.navController.back()}onFormSubmit(){let t=Object.assign(Object.assign({},this.bookingForm.value),{room_id:this.room._id,price:this.calculatedData.bookingPrice,bookingStep:this.calculatedData.bookingStep});t=this.sheduleService.convertBookingDatesIsoToShort(t),this.sheduleService.upsertBooking(t).subscribe(t=>{this.resetForm(),this.navController.back()},t=>console.log("error",t.error))}resetForm(){this.bookingFormDirective&&(this.bookingForm.get("payments").clear(),this.bookingFormDirective.resetForm())}}return t.\u0275fac=function(e){return new(e||t)(g.Ib(r.a),g.Ib(h.a),g.Ib(i.Y),g.Ib(r.g),g.Ib(i.a),g.Ib(p.i),g.Ib(y.d))},t.\u0275cmp=g.Cb({type:t,selectors:[["app-booking-form"]],viewQuery:function(t,e){var o;1&t&&g.sc(N,!0),2&t&&g.ic(o=g.Wb())&&(e.bookingFormDirective=o.first)},decls:93,vars:61,consts:[["slot","start"],[3,"formGroup"],["bookingFormDirective","ngForm"],["size-md","6","offset-md","3"],["lines","none"],["slot","start","color","primary"],["summary",""],["slot","end",3,"color"],[4,"ngIf"],["lines","none",1,"date-label"],[1,"date-label__item"],["position","stacked","color","primary"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select end date","disabled","",3,"value","monthNames",4,"ngIf"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","disabled","",3,"value","monthNames",4,"ngIf"],["name","dots",4,"ngIf"],["formGroupName","dates",1,"date-label__item"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select end date","formControlName","to",3,"min","max","monthNames",4,"ngIf"],["fill","outline","color","danger",3,"appPermissionDisabled","click"],["position","floating","color","primary"],["type","text","autocomplete","","autocorrect","","formControlName","guestName"],["type","text","autocomplete","","autocorrect","","formControlName","guestPhone"],["type","email","autocomplete","","autocorrect","","formControlName","guestEmail"],["type","text","autocomplete","","autocorrect","","formControlName","discount"],[3,"click",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["formArrayName","payments",4,"ngFor","ngForOf"],["size","8"],["expand","block","fill","outline",3,"click"],["expand","block",3,"appPermissionDisabled","disabled","click"],["slot","end","color","primary"],["slot","end",3,"ngClass"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select end date","disabled","",3,"value","monthNames"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","disabled","",3,"value","monthNames"],["name","dots"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select end date","formControlName","to",3,"min","max","monthNames"],["class","input-error","color","danger",4,"ngFor","ngForOf"],["color","danger",1,"input-error"],[3,"click"],[3,"disabled","click"],["formArrayName","payments"],[3,"formGroupName"],["color","secondary"],["slot","end"],["side","start"],["slot","icon-only","name","pencil-outline"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select Month","formControlName","date",3,"monthNames",4,"ngIf"],["type","text","autocomplete","","autocorrect","","formControlName","amount"],["placeholder","Select One","interface","popover","formControlName","paymentMethod"],[3,"value",4,"ngFor","ngForOf"],["pickerFormat","DD-MMMM-YYYY","displayFormat","DD MMMM YYYY","placeholder","Select Month","formControlName","date",3,"monthNames"],[3,"value"]],template:function(t,e){if(1&t&&(g.Nb(0,"ion-header"),g.Nb(1,"ion-toolbar"),g.Nb(2,"ion-buttons",0),g.Jb(3,"ion-back-button"),g.Mb(),g.Nb(4,"ion-title"),g.oc(5),g.Yb(6,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Nb(7,"ion-content"),g.Nb(8,"form",1,2),g.Nb(10,"ion-grid"),g.Nb(11,"ion-row"),g.Nb(12,"ion-col",3),g.Nb(13,"ion-item",4),g.Nb(14,"ion-label"),g.Nb(15,"h2"),g.oc(16),g.Mb(),g.Mb(),g.Mb(),g.Nb(17,"ion-item-group"),g.Nb(18,"ion-item-divider",4),g.Jb(19,"ion-toggle",5,6),g.Nb(21,"ion-label",4),g.Nb(22,"h3"),g.oc(23),g.Yb(24,"translate"),g.Mb(),g.Mb(),g.Nb(25,"ion-text",7),g.oc(26),g.Mb(),g.Mb(),g.nc(27,k,44,27,"ng-container",8),g.Mb(),g.Nb(28,"ion-list",9),g.Nb(29,"ion-item",10),g.Nb(30,"ion-label",11),g.oc(31),g.Yb(32,"translate"),g.Mb(),g.nc(33,F,1,2,"ion-datetime",12),g.Mb(),g.Nb(34,"ion-item",10),g.Nb(35,"ion-label",11),g.oc(36),g.Yb(37,"translate"),g.Mb(),g.nc(38,Y,2,5,"ion-datetime",13),g.nc(39,v,1,0,"ion-spinner",14),g.Mb(),g.Mb(),g.Nb(40,"ion-list",9),g.Nb(41,"ion-item",15),g.Nb(42,"ion-label",11),g.oc(43),g.Yb(44,"translate"),g.Mb(),g.nc(45,D,1,3,"ion-datetime",16),g.nc(46,x,3,3,"ng-container",8),g.Mb(),g.Nb(47,"ion-item",10),g.Nb(48,"ion-label"),g.Nb(49,"ion-button",17),g.Vb("click",function(){return e.presentAlert()}),g.oc(50),g.Yb(51,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Nb(52,"ion-list"),g.Nb(53,"ion-item"),g.Nb(54,"ion-label",18),g.oc(55),g.Yb(56,"translate"),g.Mb(),g.Jb(57,"ion-input",19),g.Mb(),g.nc(58,S,3,3,"ng-container",8),g.Nb(59,"ion-item"),g.Nb(60,"ion-label",18),g.oc(61),g.Yb(62,"translate"),g.Mb(),g.Jb(63,"ion-input",20),g.Mb(),g.nc(64,O,3,3,"ng-container",8),g.Nb(65,"ion-item"),g.Nb(66,"ion-label",18),g.oc(67),g.Yb(68,"translate"),g.Mb(),g.Jb(69,"ion-input",21),g.Mb(),g.nc(70,A,3,3,"ng-container",8),g.Nb(71,"ion-item"),g.Nb(72,"ion-label",18),g.oc(73),g.Yb(74,"translate"),g.Mb(),g.Jb(75,"ion-input",22),g.Mb(),g.nc(76,w,3,3,"ng-container",8),g.Mb(),g.Nb(77,"ion-list",4),g.Nb(78,"ion-list-header"),g.Nb(79,"ion-label"),g.oc(80),g.Yb(81,"translate"),g.Mb(),g.nc(82,X,3,3,"ion-button",23),g.nc(83,T,2,1,"ion-button",24),g.Mb(),g.nc(84,B,4,3,"ng-container",25),g.Mb(),g.Nb(85,"ion-row"),g.Nb(86,"ion-col",26),g.Nb(87,"ion-button",27),g.Vb("click",function(){return e.onFormCancel()}),g.oc(88," Cancel "),g.Mb(),g.Mb(),g.Nb(89,"ion-col"),g.Nb(90,"ion-button",28),g.Vb("click",function(){return e.onFormSubmit()}),g.oc(91),g.Yb(92,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb()),2&t){const t=g.jc(20);g.yb(5),g.pc(g.Zb(6,33,"modules.shedule.bookingForm.title")),g.yb(3),g.dc("formGroup",e.bookingForm),g.yb(8),g.pc(null==e.room?null:e.room.name),g.yb(7),g.pc(g.Zb(24,35,"modules.shedule.bookingForm.balance")),g.yb(2),g.dc("color",(null==e.calculatedData?null:e.calculatedData.balance)>=0?"success":"danger"),g.yb(1),g.qc(" ",null==e.calculatedData?null:e.calculatedData.balance,""),g.yb(1),g.dc("ngIf",t.checked),g.yb(4),g.qc(" ",g.Zb(32,37,"modules.shedule.bookingForm.from")," "),g.yb(2),g.dc("ngIf",e.updated),g.yb(3),g.qc(" ",g.Zb(37,39,"modules.shedule.bookingForm.availableTo")," "),g.yb(2),g.dc("ngIf",e.updated&&e.availableTo),g.yb(1),g.dc("ngIf",!(e.updated&&e.availableTo)),g.yb(4),g.qc(" ",g.Zb(44,41,"modules.shedule.bookingForm.to")," "),g.yb(2),g.dc("ngIf",e.updated),g.yb(1),g.dc("ngIf",e.bookingForm.get("dates").get("to").dirty&&e.bookingForm.get("dates").get("to").errors),g.yb(3),g.dc("appPermissionDisabled",g.gc(57,K,e.constructor.name)),g.yb(1),g.qc(" ",g.Zb(51,43,"modules.shedule.bookingForm.cancelReservation")," "),g.yb(5),g.qc(" ",g.Zb(56,45,"modules.shedule.bookingForm.guestName")," "),g.yb(3),g.dc("ngIf",e.bookingForm.get("guestName").dirty&&e.bookingForm.get("guestName").errors),g.yb(3),g.qc(" ",g.Zb(62,47,"modules.shedule.bookingForm.guestPhone")," "),g.yb(3),g.dc("ngIf",e.bookingForm.get("guestPhone").dirty&&e.bookingForm.get("guestPhone").errors),g.yb(3),g.qc(" ",g.Zb(68,49,"modules.shedule.bookingForm.guestEmail")," "),g.yb(3),g.dc("ngIf",e.bookingForm.get("guestEmail").dirty&&e.bookingForm.get("guestEmail").errors),g.yb(3),g.qc(" ",g.Zb(74,51,"modules.shedule.bookingForm.discount")," "),g.yb(3),g.dc("ngIf",e.bookingForm.get("discount").dirty&&e.bookingForm.get("discount").errors),g.yb(4),g.pc(g.Zb(81,53,"modules.shedule.bookingForm.payments")),g.yb(2),g.dc("ngIf",null===e.editPayment),g.yb(1),g.dc("ngIf",null!==e.editPayment),g.yb(1),g.dc("ngForOf",e.bookingForm.get("payments").controls),g.yb(6),g.dc("appPermissionDisabled",g.gc(59,K,e.constructor.name))("disabled","INVALID"===e.bookingForm.status||e.isCancelled||e.user.blocked),g.yb(1),g.rc(" ",g.Zb(92,55,"elements.button.submit")," ",e.bookingForm.errors," ")}},directives:[i.q,i.T,i.g,i.d,i.e,i.R,i.n,a.p,a.l,a.f,i.p,i.J,i.m,i.t,i.z,i.v,i.u,i.S,i.b,i.Q,n.n,i.A,a.g,i.f,M.a,i.s,i.db,a.k,a.d,i.B,n.m,n.l,i.o,i.cb,i.M,a.b,i.y,i.F,i.x,i.w,i.r,i.K,i.L],pipes:[y.c,n.e,f.a],styles:[""]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(e){return new(e||t)},imports:[[r.k.forChild(z)],r.k]}),t})();var U=o("FUS3"),Q=o("iTUp");let W=(()=>{class t{}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(e){return new(e||t)},imports:[[n.c,a.n,i.U,R,y.b.forChild({extend:!0}),U.a,Q.a]]}),t})()}}]);