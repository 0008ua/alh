{"version":3,"sources":["./src/app/modules/user/profile/profile.page.scss","./src/app/modules/user/profile/update-activation/update-activation.component.scss","./src/app/modules/user/profile/update-activation/update-activation.component.ts","./src/app/modules/user/profile/update-email/update-email.component.ts","./src/app/modules/user/profile/profile.module.ts","./src/app/modules/user/profile/profile.page.html","./src/app/modules/user/profile/update-email/update-email.component.scss","./src/app/modules/user/profile/profile-routing.module.ts","./src/app/modules/user/profile/profile.page.ts","./src/app/modules/user/profile/update-activation/update-activation.component.html","./src/app/modules/user/profile/update-email/update-email.component.html"],"names":[],"mappings":"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","file":"profile-profile-module.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLnBhZ2Uuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1cGRhdGUtYWN0aXZhdGlvbi5jb21wb25lbnQuc2NzcyJ9 */\";","import { AfterViewChecked, AfterViewInit, Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\n\nimport { Observable, Subject } from 'rxjs';\nimport { filter, startWith, switchMap, take, tap } from 'rxjs/operators';\nimport { UserService } from 'src/app/modules/user/user.service';\n\n@Component({\n  selector: 'app-update-activation',\n  templateUrl: './update-activation.component.html',\n  styleUrls: ['./update-activation.component.scss'],\n})\nexport class UpdateActivationComponent implements OnInit {\n  activateEmailCodeForm: FormGroup;\n  // formSubmitSubject$ = new Subject();\n  @ViewChild('activateEmailCodeFormDirective', { static: false }) activateEmailCodeFormDirective: FormGroupDirective;\n  // @Input() email: any;\n\n  constructor(\n    public modalController: ModalController,\n    private userService: UserService,\n  ) { }\n\n  ngOnInit() {\n    this.activateEmailCodeForm = new FormGroup({\n      code: new FormControl(\n          '',\n          {\n            updateOn: 'change',\n            validators: [\n              Validators.pattern('^[0-9]{2,10}$'),\n              Validators.minLength(2),\n              Validators.maxLength(10),\n              Validators.required,\n            ],\n          }),\n    });\n\n    // this.formSubmitSubject$\n    //     .pipe(\n    //         tap(() => this.activateEmailCodeForm.markAsDirty()),\n    //         switchMap(() =>\n    //           this.activateEmailCodeForm.statusChanges.pipe(\n    //               startWith(this.activateEmailCodeForm.status),\n    //               filter((status) => status !== 'PENDING'),\n    //               take(1),\n    //           ),\n    //         ),\n    //         filter((status) => status === 'VALID'),\n    //     )\n    //     .subscribe((validationSuccessful) => this.onUpdate());\n  }\n\n  dismiss(data?: any): void {\n    console.log('code data', data);\n    this.modalController.dismiss(data);\n  }\n\n  activate() {\n    this.dismiss({ code: this.activateEmailCodeForm.get('code').value });\n    this.resetForm();\n  }\n\n  resetForm() {\n    if (this.activateEmailCodeFormDirective) {\n      this.activateEmailCodeFormDirective.resetForm();\n    }\n  }\n}\n","import { AfterViewChecked, AfterViewInit, Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, FormGroupDirective, Validators } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\n\nimport { Observable, Subject } from 'rxjs';\nimport { filter, startWith, switchMap, take, tap } from 'rxjs/operators';\nimport { UserService } from 'src/app/modules/user/user.service';\n\n@Component({\n  selector: 'app-update-email',\n  templateUrl: './update-email.component.html',\n  styleUrls: ['./update-email.component.scss'],\n})\nexport class UpdateEmailComponent implements OnInit {\n  updateEmailForm: FormGroup;\n  formSubmitSubject$ = new Subject();\n  @ViewChild('updateEmailFormDirective', { static: false }) updateEmailFormDirective: FormGroupDirective;\n  @Input() email: any;\n\n  constructor(\n    public modalController: ModalController,\n    private userService: UserService,\n  ) { }\n\n  ngOnInit() {\n    this.updateEmailForm = new FormGroup({\n      email: this.userService.emailFormControl(''),\n    });\n\n    this.formSubmitSubject$\n        .pipe(\n            tap(() => this.updateEmailForm.markAsDirty()),\n            switchMap(() =>\n              this.updateEmailForm.statusChanges.pipe(\n                  startWith(this.updateEmailForm.status),\n                  filter((status) => status !== 'PENDING'),\n                  take(1),\n              ),\n            ),\n            filter((status) => status === 'VALID'),\n        )\n        .subscribe((validationSuccessful) => this.onUpdate());\n  }\n\n  dismiss(data?: any): void {\n    console.log('data form', data);\n    this.modalController.dismiss(data);\n  }\n\n  onUpdate() {\n    this.dismiss({ email: this.updateEmailForm.get('email').value });\n    this.resetForm();\n  }\n\n  resetForm() {\n    if (this.updateEmailFormDirective) {\n      this.updateEmailFormDirective.resetForm();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { UpdateEmailComponent } from './update-email/update-email.component';\nimport { UpdateActivationComponent } from './update-activation/update-activation.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ProfilePageRoutingModule,\n  ],\n  declarations: [\n    ProfilePage,\n    UpdateEmailComponent,\n    UpdateActivationComponent,\n  ],\n})\nexport class ProfilePageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Profile</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button contentId=\\\"main-content\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\">\\n        <h2 class=\\\"ion-text-center\\\">Profile</h2>\\n        <ion-list>\\n          <ion-row>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"4\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <h4>Login:</h4>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"8\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <ion-text color=\\\"primary\\\">\\n                    <p>\\n                      {{user.login}}\\n                    </p>\\n                  </ion-text>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"4\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <h4>Email:</h4>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"8\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <ion-text color=\\\"primary\\\">\\n                    <p>\\n                      {{user.email}}\\n                    </p>\\n                  </ion-text>\\n                </ion-label>\\n                <ion-button (click)=\\\"updateEmail()\\\">\\n                  Update email\\n                </ion-button>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"4\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <h4>Role:</h4>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"8\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <ion-text color=\\\"primary\\\">\\n                    <p>\\n                      {{user.role}}\\n                    </p>\\n                  </ion-text>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"4\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <h4>Blocked:</h4>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"8\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <ion-text color=\\\"primary\\\">\\n                    <p>\\n                      {{!!user.blocked}}\\n                    </p>\\n                  </ion-text>\\n                </ion-label>\\n\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n\\n          <ion-row>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"4\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <h4>Activated:</h4>\\n                </ion-label>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col class=\\\"ion-no-padding\\\" size=\\\"8\\\">\\n              <ion-item class=\\\"ion-no-padding\\\" lines=\\\"none\\\">\\n                <ion-label>\\n                  <ion-text color=\\\"primary\\\">\\n                    <p>\\n                      {{!!user.activated}}\\n                    </p>\\n                  </ion-text>\\n                </ion-label>\\n                <ion-button *ngIf=\\\"!user.activated\\\" (click)=\\\"activate()\\\">\\n                  Activate\\n                </ion-button>\\n                <!-- <ion-input color=\\\"primary\\\" [placeholder]=\\\"user.activated\\\">\\n                                    </ion-input>\\n                                    <ion-button slot=\\\"end\\\" (click)=\\\"add()\\\">\\n                                      <ion-icon slot=\\\"icon-only\\\" name=\\\"pencil-outline\\\"></ion-icon>\\n                                    </ion-button> -->\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n\\n\\n\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1cGRhdGUtZW1haWwuY29tcG9uZW50LnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { Store } from '@ngrx/store';\nimport { from, throwError } from 'rxjs';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { ActivateUser, UpdateUser } from 'src/app/store/actions/user.actions';\n\nimport { User } from '../../../interface';\nimport { State } from '../../../store/reducers';\nimport { getUser } from '../../../store/reducers/user.reducer';\nimport { UserService } from '../user.service';\nimport { UpdateActivationComponent } from './update-activation/update-activation.component';\nimport { UpdateEmailComponent } from './update-email/update-email.component';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  user: User | null = null;\n  constructor(\n    private store: Store<State>,\n    public modalController: ModalController,\n    public userService: UserService,\n  ) { }\n\n  ngOnInit() {\n    this.store.select(getUser)\n        .subscribe((user) => {\n          this.user = user;\n        });\n  }\n\n\n  async presentModal(component, data?: any): Promise<any> {\n    const modal = await this.modalController.create({\n      component,\n      // cssClass: 'my-custom-class',\n      componentProps: data,\n    });\n    await modal.present();\n    return await modal.onWillDismiss();\n  }\n\n  activate() {\n    this.userService.sendActivationCode(this.user._id).pipe(\n        catchError((err) => throwError(err)),\n        switchMap((_) => {\n          console.log('sendActivationCode', _);\n          return from(this.presentModal(UpdateActivationComponent));\n        }))\n        .subscribe((res) => {\n          console.log('data s', res.data);\n          this.store.dispatch(new ActivateUser({\n            _id: this.user._id,\n            code: res.data.code,\n          }));\n        },\n        (err) => console.log('err activate', err),\n        );\n  }\n\n  async updateEmail() {\n    const { data } = await this.presentModal(UpdateEmailComponent);\n    if (data) {\n      console.log('data', data);\n\n      this.store.dispatch(new UpdateUser({\n        _id: this.user._id,\n        email: data.email,\n      }));\n      // this.userService.updateUser({\n      //   _id: this.user._id,\n      //   email: data.email,\n      // }).subscribe(\n      //     (result) => console.log('update result', result),\n      //     (err) => console.log('update error', err),\n      // );\n    }\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Activate email</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"dismiss(null)\\\">close</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"activateEmailCodeForm\\\" *ngIf=\\\"activateEmailCodeForm\\\" #activateEmailCodeFormDirective=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\">\\n          <ion-card>\\n            <ion-card-header>\\n              <ion-card-title class=\\\"ion-text-center\\\">Activate email</ion-card-title>\\n              <ion-card-subtitle class=\\\"ion-text-center\\\">Please enter activation code from email</ion-card-subtitle>\\n            </ion-card-header>\\n            <ion-card-content>\\n              <ion-list>\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-icon class=\\\"ion-align-self-center\\\" name=\\\"mail-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                  <ion-label position=\\\"floating\\\">Code</ion-label>\\n                  <ion-input type=\\\"number\\\" autocomplete autocorrect formControlName=\\\"code\\\"></ion-input>\\n                </ion-item>\\n                <ion-text *ngIf=\\\"activateEmailCodeForm.get('code').touched && activateEmailCodeForm.get('code').errors\\\"\\n                  class=\\\"input-error\\\" color=\\\"danger\\\">\\n                  {{activateEmailCodeForm.get('code').errors | json}}\\n                </ion-text>\\n              </ion-list>\\n            </ion-card-content>\\n          </ion-card>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              <ion-button expand=\\\"block\\\"\\n                [disabled]=\\\"activateEmailCodeForm.status === 'INVALID' || activateEmailCodeForm.status === 'PENDING'\\\"\\n                (click)=\\\"activate()\\\">\\n                Activate\\n              </ion-button>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-button expand=\\\"block\\\" (click)=\\\"dismiss(null)\\\">\\n                Cancel\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Update Email</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"dismiss()\\\">close</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"updateEmailForm\\\" *ngIf=\\\"updateEmailForm\\\" #updateEmailFormDirective=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size-md=\\\"6\\\" offset-md=\\\"3\\\">\\n          <ion-card>\\n            <ion-card-header>\\n              <ion-card-title class=\\\"ion-text-center\\\">Update email</ion-card-title>\\n            </ion-card-header>\\n            <ion-card-content>\\n              <ion-list>\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-icon class=\\\"ion-align-self-center\\\" name=\\\"mail-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                  <ion-label position=\\\"floating\\\">Email</ion-label>\\n                  <ion-input type=\\\"email\\\" autocomplete autocorrect formControlName=\\\"email\\\"></ion-input>\\n                </ion-item>\\n                <ion-text *ngIf=\\\"updateEmailForm.get('email').touched && updateEmailForm.get('email').errors\\\"\\n                  class=\\\"input-error\\\" color=\\\"danger\\\">\\n                  {{updateEmailForm.get('email').errors | json}}\\n                </ion-text>\\n              </ion-list>\\n            </ion-card-content>\\n          </ion-card>\\n          <ion-row>\\n            <ion-col size=\\\"8\\\">\\n              <ion-button expand=\\\"block\\\"\\n                [disabled]=\\\"updateEmailForm.status === 'INVALID' || updateEmailForm.status === 'PENDING'\\\"\\n                (click)=\\\"formSubmitSubject$.next()\\\">\\n                Update\\n              </ion-button>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-button expand=\\\"block\\\" (click)=\\\"dismiss(null)\\\">\\n                Cancel\\n              </ion-button>\\n            </ion-col>\\n          </ion-row>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}